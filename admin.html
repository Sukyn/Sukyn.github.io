<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <title>Blog admin - Colin Blake</title>
    <meta name="viewport" content="width=device-width, initial-scale=1" />

    <!-- Same fonts + CSS as main site -->
    <link
      href="https://fonts.googleapis.com/css?family=Saira+Extra+Condensed:500,700"
      rel="stylesheet"
      type="text/css"
    />
    <link
      href="https://fonts.googleapis.com/css?family=Muli:400,400i,800,800i"
      rel="stylesheet"
      type="text/css"
    />
    <link href="css/styles.css" rel="stylesheet" />
  </head>
  <body class="bg-light">
    <div class="container py-5">
      <h1 class="mb-4">Blog admin</h1>
      <p class="text-muted mb-4">
        Minimal admin to manage blog posts and links to your PDFs.
      </p>

      <!-- Login card -->
      <div id="login-card" class="card mb-4" style="max-width: 480px;">
        <div class="card-body">
          <h2 class="h4 mb-3">Login</h2>
          <div class="mb-3">
            <label for="passwordInput" class="form-label">Admin password</label>
            <input
              type="password"
              id="passwordInput"
              class="form-control"
              autocomplete="current-password"
            />
          </div>
          <button id="loginButton" class="btn btn-primary">Log in</button>
          <div id="loginError" class="text-danger mt-2 small d-none">
            Wrong password.
          </div>
        </div>
      </div>

      <!-- Admin panel -->
      <div id="admin-panel" class="d-none">
        <div class="d-flex justify-content-between align-items-center mb-3">
          <h2 class="h4 mb-0">Posts</h2>
          <button id="logoutButton" class="btn btn-outline-secondary btn-sm">
            Log out
          </button>
        </div>

        <div class="row">
          <!-- Sidebar list -->
          <div class="col-md-4 mb-4">
            <button id="newPostButton" class="btn btn-sm btn-success mb-3">
              + New post
            </button>
            <ul id="postList" class="list-group small"></ul>
          </div>

          <!-- Editor -->
          <div class="col-md-8 mb-4">
            <div class="card">
              <div class="card-body">
                <h3 id="editorTitle" class="h5 mb-3">New post</h3>
                <form id="postForm">
                  <input type="hidden" id="postId" />

                  <div class="mb-3">
                    <label for="postTitle" class="form-label">Title</label>
                    <input
                      type="text"
                      id="postTitle"
                      class="form-control"
                      required
                    />
                  </div>

                  <div class="mb-3">
                    <label for="postDate" class="form-label"
                      >Date (YYYY-MM-DD)</label
                    >
                    <input
                      type="date"
                      id="postDate"
                      class="form-control"
                      required
                    />
                  </div>

                  <div class="mb-3">
                    <label for="postSummary" class="form-label"
                      >Summary (shown on the main page)</label
                    >
                    <textarea
                      id="postSummary"
                      class="form-control"
                      rows="3"
                    ></textarea>
                  </div>

                  <div class="mb-3">
                    <label for="postContent" class="form-label"
                      >Full content (optional, HTML allowed)</label
                    >
                    <textarea
                      id="postContent"
                      class="form-control"
                      rows="6"
                    ></textarea>
                  </div>

                  <div class="mb-3">
                    <label for="postTags" class="form-label"
                      >Tags (comma-separated)</label
                    >
                    <input
                      type="text"
                      id="postTags"
                      class="form-control"
                      placeholder="quantum, qudit, talk"
                    />
                  </div>

                  <div class="mb-3">
                    <label for="postPdfUrl" class="form-label"
                      >PDF URL (optional)</label
                    >
                    <input
                      type="text"
                      id="postPdfUrl"
                      class="form-control"
                      placeholder="/assets/papers/my-paper.pdf"
                    />
                    <div class="form-text">
                      Upload PDFs into <code>public/assets/papers/</code> and
                      put the path here.
                    </div>
                  </div>

                  <div class="d-flex justify-content-between mt-3">
                    <button type="submit" class="btn btn-primary">
                      Save post
                    </button>
                    <button
                      type="button"
                      id="deletePostButton"
                      class="btn btn-outline-danger d-none"
                    >
                      Delete
                    </button>
                  </div>
                  <div
                    id="saveStatus"
                    class="small mt-2 text-muted"
                    aria-live="polite"
                  ></div>
                </form>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Bootstrap JS (for styling helpers, not strictly required) -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"></script>
    <script src="js/admin.js"></script>
  </body>
</html>
